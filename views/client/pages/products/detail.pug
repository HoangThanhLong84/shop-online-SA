extends ../../layout/default.pug
include ../../mixins/box-head.pug
include ../../mixins/alert.pug

block main 
    
    <div class="container-fluid page-header py-5">
        <h1 class="text-center text-white display-6">#{product.title}</h1>
        <ol class="breadcrumb justify-content-center mb-0">
            <li class="breadcrumb-item"><a href="#">Home</a></li>
            <li class="breadcrumb-item"><a href="#">Pages</a></li>
            <li class="breadcrumb-item"><a href="#">Cửa hàng</a></li>
            <li class="breadcrumb-item active text-white">#{product.title}</li>
        </ol>
    </div>
    
    +alert-success(2000)
    
    <div class="container-fluid py-5 mt-5">
        button(
            class="btn btn-secondary"
            button-go-back
        ) < Trở lại
        <div class="container py-5">
            <div class="row g-4 mb-5">
                <div class="col-lg-8 col-xl-9">
                    <div class="row g-4">
                        <div class="col-lg-6">
                            <div class="border rounded">
                                img(src=product.thumbnail class="img-fluid rounded" alt="Image")
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <h4 class="fw-bold mb-3">#{product.title}</h4>
                            <p class="mb-3">Danh mục: #{product.category}</p>
                            <h5 class="fw-bold mb-3">#{product.price} VNĐ</h5>
                            <div class="d-flex mb-4">
                                | Giảm giá:  <b>#{product.discountPercentage}</b> %
                                //- <i class="fa fa-star text-secondary"></i>
                                //- <i class="fa fa-star text-secondary"></i>
                                //- <i class="fa fa-star text-secondary"></i>
                                //- <i class="fa fa-star text-secondary"></i>
                                //- <i class="fa fa-star"></i>
                            </div>
                            <p class="mb-4">!{product.description}</p>
                            form(
                                action=`/cart/add/${product.id}`
                                method="POST"
                            )
                                <div class="input-group quantity mb-5" style="width: 100px;">
                                    <div class="input-group-btn">
                                        <button class="btn btn-sm btn-minus rounded-circle bg-light border" type="button">
                                            <i class="fa fa-minus"></i>
                                        </button>
                                    </div>
                                    <input type="text" class="form-control form-control-sm text-center border-0" type="number" value="1" min="1" name="quantity" max=product.stock>
                                    <div class="input-group-btn">
                                        <button class="btn btn-sm btn-plus rounded-circle bg-light border" type="button">
                                            <i class="fa fa-plus"></i>
                                        </button>
                                    </div>
                                </div>
                                <button class="btn border border-secondary rounded-pill px-4 py-2 mb-4 text-primary" type="submit">
                                    <i class="fa fa-shopping-bag me-2 text-primary"></i> Thêm vào giỏ hàng
                                </button>
                        </div>
                        <div class="col-lg-12">
                            <nav>
                                <div class="nav nav-tabs mb-3">
                                    <button class="nav-link active border-white border-bottom-0" type="button" role="tab" id="nav-about-tab" data-bs-toggle="tab" data-bs-target="#nav-about" aria-controls="nav-about" aria-selected="true">Mô tả</button>
                                    <button class="nav-link border-white border-bottom-0" type="button" role="tab" id="nav-mission-tab" data-bs-toggle="tab" data-bs-target="#nav-mission" aria-controls="nav-mission" aria-selected="false">Bài đánh giá</button>
                                </div>
                            </nav>
                            <div class="tab-content mb-5">
                                <div class="tab-pane active" id="nav-about" role="tabpanel" aria-labelledby="nav-about-tab">
                                    <p>!{product.descriptionDetail}</p>
                                    <div class="px-2">
                                        <div class="row g-4">
                                            <div class="col-6">
                                                <div class="row bg-light align-items-center text-center justify-content-center py-2">
                                                    <div class="col-6">
                                                        <p class="mb-0">Tên sản phẩm</p>
                                                    </div>
                                                    <div class="col-6">
                                                        <p class="mb-0">#{product.title}</p>
                                                    </div>
                                                </div>
                                                <div class="row text-center align-items-center justify-content-center py-2">
                                                    <div class="col-6">
                                                        <p class="mb-0">Danh mục</p>
                                                    </div>
                                                    <div class="col-6">
                                                        <p class="mb-0">#{product.category}</p>
                                                    </div>
                                                </div>
                                                <div class="row bg-light text-center align-items-center justify-content-center py-2">
                                                    <div class="col-6">
                                                        <p class="mb-0">Giá</p>
                                                    </div>
                                                    <div class="col-6">
                                                        <p class="mb-0">#{product.price}</p>
                                                    </div>
                                                </div>
                                                <div class="row text-center align-items-center justify-content-center py-2">
                                                    <div class="col-6">
                                                        <p class="mb-0">Trạng thái</p>
                                                    </div>
                                                    <div class="col-6">
                                                        <p class="mb-0"></p>
                                                    </div>
                                                </div>
                                                
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane" id="nav-mission" role="tabpanel" aria-labelledby="nav-mission-tab">
                                    each item in comment
                                        <div class="d-flex">
                                            <img src="https://res.cloudinary.com/dhe34q7cd/image/upload/v1722061018/uvw4rkvujozis9zmqvxk.png" class="img-fluid rounded-circle p-3" style="width: 100px; height: 100px;" alt="">
                                            <div class="">
                                                <p class="mb-2" style="font-size: 14px;">#{item.createdAt}</p>
                                                <div class="d-flex justify-content-between">
                                                    <h5>#{item.fullName}</h5> 
                                                </div>
                                                
                                                p #{item.description}
                                            </div>
                                        </div>
                                        <br>
                                </div>
                                <div class="tab-pane" id="nav-vision" role="tabpanel">
                                    <p class="text-dark">Tempor erat elitr rebum at clita. Diam dolor diam ipsum et tempor sit. Aliqu diam
                                        amet diam et eos labore. 3</p>
                                    <p class="mb-0">Diam dolor diam ipsum et tempor sit. Aliqu diam amet diam et eos labore.
                                        Clita erat ipsum et lorem et sit</p>
                                </div>
                            </div>
                        </div>
                        div(class="nav nav-tabs mb-3")
                        form(
                            action=`/products/detail/${product.slug}/create`
                            method="POST"
                        )
                            <h4 class="mb-5 fw-bold">Đánh giá sản phẩm</h4>
                            <div class="row g-4">
                                <div class="col-lg-6">
                                    <div class="form-group border-bottom rounded">
                                        <input type="text" class="form-control border-0 me-4" placeholder="Họ tên *" id="fullName" name="fullName" required>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-group border-bottom rounded">
                                        <input type="email" class="form-control border-0" placeholder="Email *" id="email" name="email" required>
                                    </div>
                                </div>
                                <div class="col-lg-12">
                                    <div class="form-group border-bottom rounded my-4">
                                        <textarea name="description" id="description" class="form-control border-0" cols="30" rows="8" placeholder="Đánh giá của bạn *" spellcheck="false" required></textarea>
                                    </div>
                                </div>
                                <div class="col-lg-12">
                                    <div class="d-flex justify-content-between py-3 mb-5">
                                        <div class="d-flex align-items-center">
                                            //- <p class="mb-0 me-3">Please rate:</p>
                                            //- <div class="d-flex align-items-center" style="font-size: 12px;">
                                            //-     <i class="fa fa-star text-muted"></i>
                                            //-     <i class="fa fa-star"></i>
                                            //-     <i class="fa fa-star"></i>
                                            //-     <i class="fa fa-star"></i>
                                            //-     <i class="fa fa-star"></i>
                                            //- </div>
                                        </div>
                                        div(class="form-group")
                                            button(
                                                type="submit"
                                                class="btn btn-primary"
                                            ) Đăng bình luận 
                                           
                                    </div>
                                </div>
                            </div>
                        
                    </div>
                </div>
                <div class="col-lg-4 col-xl-3">
                    <div class="row g-4 fruite">
                        <div class="col-lg-12">
                            <div class="input-group w-100 mx-auto d-flex mb-4">
                                
                            </div>
                            <div class="mb-4">
                                //- <h4>Danh mục</h4>
                                <ul class="list-unstyled fruite-categorie">
                                    
                                    //- <li>
                                    //-     <div class="d-flex justify-content-between fruite-name">
                                    //-         <a href="#"><i class="fas fa-apple-alt me-2"></i>Chôm chôm</a>
                                    //-         <span>(3)</span>
                                    //-     </div>
                                    //- </li>
                                    
                                </ul>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
    <a href="#" class="btn btn-primary border-3 border-primary rounded-circle back-to-top">
        <i class="fa fa-arrow-up"></i>
    </a>   